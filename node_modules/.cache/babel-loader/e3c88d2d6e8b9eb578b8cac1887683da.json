{"ast":null,"code":"var _jsxFileName = \"/Users/lizaz/fed-exam-category-tree-blcts/src/components/treesMain.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const TreesMain = props => {\n  _s();\n\n  const {\n    mainTrees\n  } = props;\n  const [isShowKids, setIsShowKids] = useState(true);\n  const [isEditorOpen, setIsEditorOpen] = useState(false);\n  const [openedTreeId, setOpenedTreeId] = useState('');\n  const [editedName, setEditedName] = useState('');\n  const ref = useRef(null);\n  useEffect(() => {\n    // if (ref.current) {\n    //   ref.current.focus();\n    // }\n    if (openedTreeId !== null) {\n      const editedTree = mainTrees.filter(tree => tree.id === openedTreeId)[0];\n      setEditedName(editedTree.name);\n    }\n  }, []);\n\n  const editHandler = event => {\n    // setIsLoading(true);\n    event.preventDefault(); //   if (openedTreeId) {\n    //     editTree(openedTreeId, editedName);\n    //     const editedTodo = mainTrees.find(tree => tree.id === openedTreeId);\n    //     if (editedTree) {\n    //       editedTree.name = editedName;\n    //     }\n    //     setTodos(todos.map(todo => (todo.id === openedTodoId\n    //       ? editedTodo\n    //       : todo\n    //     )));\n    //   }\n    //   setIsEditorOpen(false);\n    //   setIsLoading(false);\n    // };\n    // const toggler = (todoId: number) => {\n    //   setIsLoading(true);\n    //   setOpenedTodoId(todoId);\n    //   const changedTodo = todos.find(todo => todoId === todo.id);\n    //   const newTodo = { ...changedTodo };\n    //   const todoTitle = changedTodo?.title;\n    //   if (changedTodo) {\n    //     newTodo.completed = !changedTodo.completed;\n    //     editTodo(todoId, todoTitle, newTodo.completed);\n    //   }\n    //   setTodos((prevTodos: Todo[]) => prevTodos.map(todo => {\n    //     if (todo.id === newTodo.id) {\n    //       return newTodo;\n    //     }\n    //     return todo;\n    //   }));\n    //   setIsLoading(false);\n    // };\n    // const onDelete = (todoId: number) => {\n    //   deleteTodos(todoId);\n    //   setTodos((prev: Todo[]) => prev.filter(todo => todo.id !== todoId));\n    // };\n\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"treeapp__main\",\n      \"data-cy\": \"TreeList\",\n      children: mainTrees.map(tree => tree.childId.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"tree__show\",\n          \"data-cy\": \"TreeTogglerButton\",\n          onClick: () => setIsShowKids(false),\n          children: isShowKids ? '-' : '+'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-cy\": \"Tree\",\n          children: isEditorOpen && tree.id === openedTreeId ? /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: editHandler,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: ref,\n              \"data-cy\": \"TreeNameField\",\n              type: \"text\",\n              className: \"tree__name-field\",\n              placeholder: \"Rename please\",\n              value: editedName,\n              onChange: event => setEditedName(event.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            \"data-cy\": \"TodoTitle\",\n            className: \"todo__title\",\n            onDoubleClick: () => {\n              setIsEditorOpen(true);\n              setOpenedTreeId(tree.id);\n              setEditedName(tree.name);\n            },\n            children: tree.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this)\n        }, tree.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n        \"data-cy\": \"TreeName\",\n        className: \"tree__name\",\n        onDoubleClick: () => {\n          setIsEditorOpen(true);\n          setOpenedTreeId(tree.id);\n          setEditedName(tree.name);\n        },\n        children: tree.name\n      }, tree.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this) // {/* {isLoading && todo.id === openedTodoId && <Loader />} */}\n    ;\n  };\n};\n\n_s(TreesMain, \"CoHN05QmdBgcAmKMND8qcGWm0bM=\");\n\n_c = TreesMain;\n\nfunction useRef(arg0) {\n  throw new Error('Function not implemented.');\n}\n\nfunction useEffect(arg0, arg1) {\n  throw new Error('Function not implemented.');\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"TreesMain\");","map":{"version":3,"names":["React","useState","TreesMain","props","mainTrees","isShowKids","setIsShowKids","isEditorOpen","setIsEditorOpen","openedTreeId","setOpenedTreeId","editedName","setEditedName","ref","useRef","useEffect","editedTree","filter","tree","id","name","editHandler","event","preventDefault","map","childId","length","target","value","arg0","Error","arg1"],"sources":["/Users/lizaz/fed-exam-category-tree-blcts/src/components/treesMain.tsx"],"sourcesContent":["import classNames from 'classnames';\nimport React, {  FC, useState, FormEvent } from 'react';\nimport { MainTree } from '../types/Tree';\nimport { Loader } from './Loader';\n\ninterface Props {\n  mainTrees: MainTree[]\n}\nexport const TreesMain: FC <Props> = (props) => {\n  const { mainTrees } = props;\n  const [isShowKids, setIsShowKids] = useState(true);\n  const [isEditorOpen, setIsEditorOpen] = useState(false);\n  const [openedTreeId, setOpenedTreeId] = useState('');\n  const [editedName, setEditedName] = useState('');\n  const ref = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    // if (ref.current) {\n    //   ref.current.focus();\n    // }\n    if (openedTreeId !== null) {\n      const editedTree = mainTrees.filter(tree => tree.id === openedTreeId)[0];\n      setEditedName(editedTree.name)\n    }\n  }, []);\n\n  const editHandler = (event: FormEvent) => {\n    // setIsLoading(true);\n    event.preventDefault();\n\n  //   if (openedTreeId) {\n  //     editTree(openedTreeId, editedName);\n  //     const editedTodo = mainTrees.find(tree => tree.id === openedTreeId);\n\n  //     if (editedTree) {\n  //       editedTree.name = editedName;\n  //     }\n\n  //     setTodos(todos.map(todo => (todo.id === openedTodoId\n  //       ? editedTodo\n  //       : todo\n  //     )));\n  //   }\n\n  //   setIsEditorOpen(false);\n  //   setIsLoading(false);\n  // };\n\n  // const toggler = (todoId: number) => {\n  //   setIsLoading(true);\n  //   setOpenedTodoId(todoId);\n  //   const changedTodo = todos.find(todo => todoId === todo.id);\n  //   const newTodo = { ...changedTodo };\n  //   const todoTitle = changedTodo?.title;\n\n  //   if (changedTodo) {\n  //     newTodo.completed = !changedTodo.completed;\n\n  //     editTodo(todoId, todoTitle, newTodo.completed);\n  //   }\n\n  //   setTodos((prevTodos: Todo[]) => prevTodos.map(todo => {\n  //     if (todo.id === newTodo.id) {\n  //       return newTodo;\n  //     }\n\n  //     return todo;\n  //   }));\n  //   setIsLoading(false);\n  // };\n\n  // const onDelete = (todoId: number) => {\n  //   deleteTodos(todoId);\n  //   setTodos((prev: Todo[]) => prev.filter(todo => todo.id !== todoId));\n  // };\n\n  return (\n    <section className=\"treeapp__main\" data-cy=\"TreeList\">\n      {mainTrees.map(tree => (\n        (tree.childId.length > 0)\n          ? \n          <>\n            <button\n              type=\"button\"\n              className=\"tree__show\"\n              data-cy=\"TreeTogglerButton\"\n              onClick={() => (setIsShowKids(false))}\n            >\n              {isShowKids\n                ? '-'\n                : '+'\n              }\n            </button>\n\n            <div\n              data-cy=\"Tree\"\n              key={tree.id}\n            >\n\n            { isEditorOpen && tree.id === openedTreeId\n              ? (\n                <form onSubmit={editHandler}>\n                  <input\n                    ref={ref}\n                    data-cy=\"TreeNameField\"\n                    type=\"text\"\n                    className=\"tree__name-field\"\n                    placeholder='Rename please'\n                    value={editedName}\n                    onChange={(event) => setEditedName(event.target.value)}\n                  />\n                </form>\n              )\n              : (\n                <span\n                  data-cy=\"TodoTitle\"\n                  className=\"todo__title\"\n                  onDoubleClick={() => {\n                    setIsEditorOpen(true);\n                    setOpenedTreeId(tree.id);\n                    setEditedName(tree.name);\n                  }}\n                >\n                  {tree.name}\n                </span>\n              )\n            }\n\n            \n            </div>\n          </>\n\n          : <span\n              key={tree.id}\n              data-cy=\"TreeName\"\n              className=\"tree__name\"\n              onDoubleClick={() => {\n                setIsEditorOpen(true);\n                setOpenedTreeId(tree.id);\n                setEditedName(tree.name);\n              }}\n            >\n              {tree.name}\n            </span>\n      ))}\n    </section>\n          // {/* {isLoading && todo.id === openedTodoId && <Loader />} */}\n  )}\n};\nfunction useRef<T>(arg0: null) {\n  throw new Error('Function not implemented.');\n}\n\nfunction useEffect(arg0: () => void, arg1: never[]) {\n  throw new Error('Function not implemented.');\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}