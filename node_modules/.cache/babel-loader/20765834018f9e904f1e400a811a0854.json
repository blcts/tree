{"ast":null,"code":"var _jsxFileName = \"/Users/lizaz/fed-exam-category-tree-blcts/src/components/TreesMain.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Branch } from './branch';\nimport { EditComponent } from './EditComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const TreesMain = props => {\n  _s();\n\n  const {\n    mainTrees,\n    onSetBranches,\n    branches\n  } = props;\n  const [isShowKids, setIsShowKids] = useState(true);\n  const [isEditorOpen, setIsEditorOpen] = useState(false);\n  const [editedBranchId, setEditedBranchId] = useState('');\n  const [editedName, setEditedName] = useState('');\n  const ref = useRef(null);\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.focus();\n    }\n\n    if (editedBranchId !== null) {\n      const editedTree = mainTrees.filter(tree => tree.id === editedBranchId)[0];\n      setEditedName(editedTree.name);\n    }\n  }, []);\n\n  const editHandler = event => {\n    event.preventDefault();\n    const renamedBranch = branches.find(branch => branch.id === editedBranchId);\n\n    if (renamedBranch !== undefined) {\n      renamedBranch.name === editedName ? renamedBranch.name : renamedBranch.name = editedName;\n    }\n\n    setIsEditorOpen(false);\n  }; // const toggler = (todoId: number) => {\n  //   setIsLoading(true);\n  //   setOpenedTodoId(todoId);\n  //   const changedTodo = todos.find(todo => todoId === todo.id);\n  //   const newTodo = { ...changedTodo };\n  //   const todoTitle = changedTodo?.title;\n  //   if (changedTodo) {\n  //     newTodo.completed = !changedTodo.completed;\n  //     editTodo(todoId, todoTitle, newTodo.completed);\n  //   }\n  //   setTodos((prevTodos: Todo[]) => prevTodos.map(todo => {\n  //     if (todo.id === newTodo.id) {\n  //       return newTodo;\n  //     }\n  //     return todo;\n  //   }));\n  //   setIsLoading(false);\n  // };\n  // const onDelete = (todoId: number) => {\n  //   deleteTodos(todoId);\n  //   setTodos((prev: Todo[]) => prev.filter(todo => todo.id !== todoId));\n  // };\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"treeapp__main\",\n    \"data-cy\": \"TreeList\",\n    children: mainTrees.map(tree => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"tree__show\",\n        \"data-cy\": \"TreeTogglerButton\",\n        onClick: () => setIsShowKids(false),\n        children: isShowKids ? '-' : '+'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-cy\": \"Tree\",\n        children: isEditorOpen ? /*#__PURE__*/_jsxDEV(EditComponent, {\n          editHandler: editHandler,\n          ref: ref,\n          editedName: editedName,\n          onSetEditedName: setEditedName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(Branch, {\n          id: tree.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }, this)\n      }, tree.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this) // {/* {isLoading && todo.id === openedTodoId && <Loader />} */}\n  ;\n};\n\n_s(TreesMain, \"65mP8kdfox8PnAEwg7kEvJthblM=\");\n\n_c = TreesMain;\n\nvar _c;\n\n$RefreshReg$(_c, \"TreesMain\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Branch","EditComponent","TreesMain","props","mainTrees","onSetBranches","branches","isShowKids","setIsShowKids","isEditorOpen","setIsEditorOpen","editedBranchId","setEditedBranchId","editedName","setEditedName","ref","current","focus","editedTree","filter","tree","id","name","editHandler","event","preventDefault","renamedBranch","find","branch","undefined","map"],"sources":["/Users/lizaz/fed-exam-category-tree-blcts/src/components/TreesMain.tsx"],"sourcesContent":["import React, {  FC, useState, FormEvent, useRef, useEffect } from 'react';\nimport { Tree } from '../types/Tree';\nimport { Branch } from './branch';\nimport { EditComponent } from './EditComponent';\nimport { Loader } from './Loader';\n\ninterface Props {\n  mainTrees: Tree[],\n  onSetBranches: (v: Tree[]) => void,\n  branches: Tree[],\n}\nexport const TreesMain: FC <Props> = (props) => {\n  const { mainTrees, onSetBranches, branches } = props;\n  const [isShowKids, setIsShowKids] = useState(true);\n  const [isEditorOpen, setIsEditorOpen] = useState(false);\n  const [editedBranchId, setEditedBranchId] = useState('');\n  const [editedName, setEditedName] = useState('');\n  const ref = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.focus();\n    }\n\n    if (editedBranchId !== null) {\n      const editedTree = mainTrees.filter(tree => tree.id === editedBranchId)[0];\n      setEditedName(editedTree.name)\n    }\n  }, []);\n\n  const editHandler = (event: FormEvent) => {\n    event.preventDefault();\n\n    const renamedBranch = branches.find(branch => branch.id === editedBranchId)\n\n    if (renamedBranch !== undefined) {\n        renamedBranch.name === editedName\n          ? renamedBranch.name\n          : renamedBranch.name = editedName\n    }\n    setIsEditorOpen(false);\n  };\n\n  // const toggler = (todoId: number) => {\n  //   setIsLoading(true);\n  //   setOpenedTodoId(todoId);\n  //   const changedTodo = todos.find(todo => todoId === todo.id);\n  //   const newTodo = { ...changedTodo };\n  //   const todoTitle = changedTodo?.title;\n\n  //   if (changedTodo) {\n  //     newTodo.completed = !changedTodo.completed;\n\n  //     editTodo(todoId, todoTitle, newTodo.completed);\n  //   }\n\n  //   setTodos((prevTodos: Todo[]) => prevTodos.map(todo => {\n  //     if (todo.id === newTodo.id) {\n  //       return newTodo;\n  //     }\n\n  //     return todo;\n  //   }));\n  //   setIsLoading(false);\n  // };\n\n  // const onDelete = (todoId: number) => {\n  //   deleteTodos(todoId);\n  //   setTodos((prev: Todo[]) => prev.filter(todo => todo.id !== todoId));\n  // };\n  \n\n  return (\n    <section className=\"treeapp__main\" data-cy=\"TreeList\">\n      {mainTrees.map(tree => (\n          <>\n            <button\n              type=\"button\"\n              className=\"tree__show\"\n              data-cy=\"TreeTogglerButton\"\n              onClick={() => (setIsShowKids(false))}\n            >\n              {isShowKids\n                ? '-'\n                : '+'\n              }\n            </button>\n\n            <div\n              data-cy=\"Tree\"\n              key={tree.id}\n            >\n              { isEditorOpen \n                ? <EditComponent \n                    editHandler={editHandler} \n                    ref={ref} \n                    editedName={editedName} \n                    onSetEditedName={setEditedName}\n                  />\n                : <Branch id={tree.id} />\n              }\n            </div>\n          </>\n      ))}\n    </section>\n          // {/* {isLoading && todo.id === openedTodoId && <Loader />} */}\n  )\n};\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAqBC,QAArB,EAA0CC,MAA1C,EAAkDC,SAAlD,QAAmE,OAAnE;AAEA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,aAAT,QAA8B,iBAA9B;;;AAQA,OAAO,MAAMC,SAAqB,GAAIC,KAAD,IAAW;EAAA;;EAC9C,MAAM;IAAEC,SAAF;IAAaC,aAAb;IAA4BC;EAA5B,IAAyCH,KAA/C;EACA,MAAM,CAACI,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM,CAACY,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACc,cAAD,EAAiBC,iBAAjB,IAAsCf,QAAQ,CAAC,EAAD,CAApD;EACA,MAAM,CAACgB,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAMkB,GAAG,GAAGjB,MAAM,CAAmB,IAAnB,CAAlB;EAEAC,SAAS,CAAC,MAAM;IACd,IAAIgB,GAAG,CAACC,OAAR,EAAiB;MACfD,GAAG,CAACC,OAAJ,CAAYC,KAAZ;IACD;;IAED,IAAIN,cAAc,KAAK,IAAvB,EAA6B;MAC3B,MAAMO,UAAU,GAAGd,SAAS,CAACe,MAAV,CAAiBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYV,cAArC,EAAqD,CAArD,CAAnB;MACAG,aAAa,CAACI,UAAU,CAACI,IAAZ,CAAb;IACD;EACF,CATQ,EASN,EATM,CAAT;;EAWA,MAAMC,WAAW,GAAIC,KAAD,IAAsB;IACxCA,KAAK,CAACC,cAAN;IAEA,MAAMC,aAAa,GAAGpB,QAAQ,CAACqB,IAAT,CAAcC,MAAM,IAAIA,MAAM,CAACP,EAAP,KAAcV,cAAtC,CAAtB;;IAEA,IAAIe,aAAa,KAAKG,SAAtB,EAAiC;MAC7BH,aAAa,CAACJ,IAAd,KAAuBT,UAAvB,GACIa,aAAa,CAACJ,IADlB,GAEII,aAAa,CAACJ,IAAd,GAAqBT,UAFzB;IAGH;;IACDH,eAAe,CAAC,KAAD,CAAf;EACD,CAXD,CAnB8C,CAgC9C;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;;;EAGA,oBACE;IAAS,SAAS,EAAC,eAAnB;IAAmC,WAAQ,UAA3C;IAAA,UACGN,SAAS,CAAC0B,GAAV,CAAcV,IAAI,iBACf;MAAA,wBACE;QACE,IAAI,EAAC,QADP;QAEE,SAAS,EAAC,YAFZ;QAGE,WAAQ,mBAHV;QAIE,OAAO,EAAE,MAAOZ,aAAa,CAAC,KAAD,CAJ/B;QAAA,UAMGD,UAAU,GACP,GADO,GAEP;MARN;QAAA;QAAA;QAAA;MAAA,QADF,eAaE;QACE,WAAQ,MADV;QAAA,UAIIE,YAAY,gBACV,QAAC,aAAD;UACE,WAAW,EAAEc,WADf;UAEE,GAAG,EAAER,GAFP;UAGE,UAAU,EAAEF,UAHd;UAIE,eAAe,EAAEC;QAJnB;UAAA;UAAA;UAAA;QAAA,QADU,gBAOV,QAAC,MAAD;UAAQ,EAAE,EAAEM,IAAI,CAACC;QAAjB;UAAA;UAAA;UAAA;QAAA;MAXN,GAEOD,IAAI,CAACC,EAFZ;QAAA;QAAA;QAAA;MAAA,QAbF;IAAA,gBADH;EADH;IAAA;IAAA;IAAA;EAAA,QADF,CAiCQ;EAjCR;AAmCD,CAhGM;;GAAMnB,S;;KAAAA,S"},"metadata":{},"sourceType":"module"}